<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title></title>
		<link rel="stylesheet" href="../../../static/public/css/base.css" />
		<link rel="stylesheet" href="../../../model/bootstrap-3.3.7-dist/css/bootstrap.min.css" />
		<link rel="stylesheet" href="../../../static/4_staff/WorkInfoCenter/MoreInfo.css" />
		<link rel="stylesheet" href="../../../static/common/css/common.css" />
		<script type="text/javascript" src="../../../model/angular.min.js"></script>

	</head>

	<body ng-app="" >
		<div ng-include="'../../PublicModules/left.html'"></div>

		<h4>
		<a href="">首页</a>><a href="">员工信息中心</a>><a href="">员工详细信息</a>
	</h4>
		<section>

			<div class="row dispaly">
				<span style="font-size: 20px;">基本信息</span>
				<div class="form-group form-inline">
					<label for="name" style="margin-left: 28px;">姓名：</label> <input style="width: 167px;" type="text" class="form-control" id="fname" name="name" /> <label for="gender" style="margin: 0px 0px 0px 55px;">性别：</label>
					<select class="form-control" id="gender" name="gender">
						<option value="1">男</option>
						<option value="2">女</option>
						<option value="0">保密</option>
					</select> <label for="birth" style="margin: 0px 0px 0px 80px;">出生日期：</label>
					<input width="1000px;" type="date" class="form-control" id="birth" name="birth" />
				</div>
				<div class="form-group form-inline">
					<label for="cardnumber">身份证号：</label> <input style="width: 167px;" type="number" class="form-control" id="cardnumber" name="cardnumber" /> <label for="deptName" style="margin: 0px 0px 0px 55px;">部门：</label>
					<select class="form-control" id="deptName" name="deptName">
						<option value="">请选择</option>
					</select> <label for="postName" style="margin: 0px 0px 0px 92px;">岗位：</label>
					<select class="form-control" id="postName" name="postName">
						<option value="">请选择</option>
					</select>

				</div>

				<div class="form-group form-inline">
					<label for="beginDate">入职日期：</label> <input style="width: 167px;" type="date" class="form-control" id="entryDay" name="entryDay" />

					<label for="Emform" style="margin: 0px 0px 0px 27px;">用工形式：</label>
					<select class="form-control" id="Emform" name="Emform">
						<option value="">请选择</option>
					</select> <label for="sources" style="margin: 0px 0px 0px 50px;">人员来源：</label>
					<select class="form-control" id="sources" name="sources">
						<option value="">请选择</option>
					</select>
				</div>
				<div class="form-group form-inline">

					<label for="political">政治面貌：</label>
					<select class="form-control" id="political" name="political">
						<option value="">请选择</option>
					</select> <label for="attendDay" style="margin: 0px 0px 0px 63px;">参加工作日期：</label>
					<input style="width: 134px;" type="date" class="form-control" id="attendDay" name="attendDay" /> <label for="nation" style="margin: 0px 0px 0px 50px;">民族：</label>
					<select class="form-control" id="nation" name="nation">
						<option value="0">请选择</option>
					</select>
				</div>
				<div class="form-group form-inline">
					<label for="graduation">毕业日期：</label> <input style="width: 167px;" type="date" class="form-control" id="graduation" name="graduation" />
					<label for="origin" style="margin: 0px 0px 0px 57px;">籍贯：</label> <input style="width: 100px;" type="text" class="form-control" id="origins" name="origin" /> <label for="phone" style="margin: 0px 0px 0px 55px;">联系电话：</label> <input style="width: 164.54px;" type="number" class="form-control" id="phone" name="phone" />

				</div>
				<div class="form-group form-inline">
					<label for="email">电子邮件：</label> <input style="width: 167px;" type="email" class="form-control" id="email" name="email" /> <label for="height" style="margin: 0px 0px 0px 57px;">身高：</label> <input style="width: 100px;" type="text" class="form-control" id="height" name="height" /> <label for="bltype" style="margin: 0px 0px 0px 80px;">血型：</label>
					<select class="form-control" id="bltype" name="bltype">
						<option value="">请选择</option>
					</select>
				</div>
				<div class="form-group form-inline">
					<label for="Marital">婚姻状况：</label>
					<select class="form-control" id="Marital" name="Marital">
						<option value="">请选择</option>
					</select> <label for="birthplace" style="margin: 0px 0px 0px 135px;">出生地：</label>
					<input style="width: 120px;" type="text" class="form-control" id="birthplace" name="birthplace" /> <label for="University" style="margin: 0px 0px 0px 30px;">毕业院校：</label> <input style="width: 164.54px;" type="text" class="form-control" id="University" name="University" />
				</div>
				<div class="form-group form-inline">
					<label for="registeredpla" style="margin: 0px 0px 0px 0px;">户口地址：</label>
					<input style="width: 430px;" type="text" class="form-control" id="registeredpla" name="registeredpla" />
				</div>
				<div class="form-group form-inline">
					<label for="Major">所属专业：</label> <input style="width: 167px;" type="text" class="form-control" id="Major" name="Major" /> <label for="education" style="margin: 0px 0px 0px 30px;">最高学历：</label>
					<select class="form-control" id="education" name="education">
						<option value="">请选择</option>
					</select> <label for="degree" style="margin: 0px 0px 0px 32px;">最高学位：</label>
					<select class="form-group form-control" id="degree" name="degree">
						<option value="">请选择</option>
					</select>
				</div>
				<div class=" form-group form-inline" id="shy">
					<label for="probationstart">试用期开始日期：</label> <input type="date" class="form-control" id="probationstart" name="probationstart" />
					<label for="probationend" style="margin: 0px 0px 0px 80px;">试用期结束日期：</label>
					<input type="date" class="form-control" id="probationend" name="probationend" />
				</div>

				<span style="font-size: 20px;">外语能力</span> <span> <a
				href="newLanguage.html" style="float: right;"><button
						type="submit" class="btn btn-default">新增</button></a>
			</span>
				<table class="table table-bordered">
					<thead>
						<td>外国语种：</td>
						<td>外国语种熟练程度：</td>

					</thead>
					<tbody id="querylist1">
						<tr >
						<td>英语</td>
						<td>少量，不能进行业务沟通</td>
					</tr>
					<tr>
						<td>法语</td>
						<td>有限的业务沟通</td>
						<tr>
							<td>韩语</td>
							<td>有限的业务沟通</td>
						</tr>
						<tr>
							<td>日语</td>
							<td>业务沟通仍受少量限制</td>
						</tr>
					</tbody>
					
					
				</table>

				<span style="font-size: 20px;">职业生涯信息</span> <span> <a
				href="newCareer.html" style="float: right;"><button
						type="submit" class="btn btn-default">新增</button></a>
			</span>
				<table class="table table-bordered">
					<thead>
						<td>起始年月</td>
						<td>截止年月</td>
						<td>所在单位名称</td>
						<td>从事工作内容</td>
						<td>担任职务</td>
						<td>年薪</td>
						<td>证明人</td>
						<td>证明人职务</td>
						<td>证明人电话</td>
						<td>备注</td>
					</thead>
					<tbody id="querylist2">
						<td>2017</td>
						<td>2017</td>
						<td>某某公司</td>
						<td>业务推广</td>
						<td>业务员</td>
						<td>10w</td>
						<td>Jack</td>
						<td>市场经理</td>
						<td>13540001324</td>
						<td>备注</td>
					</tbody>
				</table>

				<span style="font-size: 20px;">家庭成员及社会关系信息</span> <span> <a
				href="newFamily.html" style="float: right;"><button
						type="submit" class="btn btn-default">新增</button></a>
			</span>
				<table class="table table-bordered">
					<thead>
						<td>与本人关系</td>
						<td>姓名</td>
						<td>所在单位</td>
						<td>职位</td>
						<td>联系电话</td>
					</thead>
					<tbody id="querylist3">
						<tr>
						<td>父亲</td>
						<td>张零</td>
						<td>某某公司</td>
						<td>市场经理</td>
						<td>13540001235</td>

					</tr>
					<tr>
						<td>母亲</td>
						<td>刘一</td>
						<td>市医院</td>
						<td>外科医生</td>
						<td>13540001236</td>

					</tr>
					</tbody>
				</table>
				<div>
					<button style="margin: 0px 0px 0px 366px;" type="button" onclick="check()" class="btn btn-default">保存</button>
				</div>
			</div>
		</section>

		<script type="text/javascript" src="../../../model/jquery-1.12.4.min.js"></script>
		<script type="text/javascript" src="../../../model/bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>
		<script type="text/javascript" src="../../../model/Util.js"></script>
		<script src="../../../static/3_TalentPool/js/NewTalent.js" type="text/javascript"></script>
		<script type="text/javascript" src="../../../model/Util.js"></script>
		<script type="text/javascript">
			function fmtDate(obj) {
				var date = new Date(obj);
				var y = 1900 + date.getYear();
				var m = "0" + (date.getMonth() + 1);
				var d = "0" + date.getDate();
				return y + "-" + m.substring(m.length - 2, m.length) + "-" +
					d.substring(d.length - 2, d.length);
			}
			function topg(lis) {
				if(lis == 1) {
					$(".asdtow1").slideToggle("fast")
						.siblings(".asdtow1").slideUp("fast")
				} else if(lis == 2) {
					$(".asdtow2").slideToggle("fast")
						.siblings(".asdtow2").slideUp("fast")
				} else if(lis == 3) {
					$(".asdtow3").slideToggle("fast")
						.siblings(".asdtow3").slideUp("fast")
				} else if(lis == 4) {
					$(".asdtow4").slideToggle("fast")
						.siblings(".asdtow4").slideUp("fast")
				} else {
					location.href = "dpt.html";
				}
			};
	
			$(function() {
				var id = localStorage.getItem("key");
				$.ajax({
					type: "get",
					url: "http://localhost:8099/" + "findForSimple",
					data: {
						"empid": id
					},
					dataType: "json",
					"complete": function(XHR, TS) {
						if("success" != TS) {
							return alert("服务器么有正确响应");
						}
						var dates = JSON.parse(XHR.responseText)
						if(dates.code == -1) {
							alert(dates.msg);
						} else {
							var arr = dates.data;

							for(var i = 0; i < arr.length; i++) {
								fname.value = arr[i].name;
								gender.value = arr[i].gender;
								birth.value = fmtDate(arr[i].birth);
								cardnumber.value = arr[i].cardnumber;
								deptName.value = arr[i].deptName;
								postName.value = arr[i].postName;
								entryDay.value = fmtDate(arr[i].entryDay);
								attendDay.value = fmtDate(arr[i].attendDay);
								Emform.value = arr[i].Emform;
								sources.value = arr[i].sources;
								political.value = arr[i].political;
								nation.value = arr[i].nation;
								origins.value = arr[i].origin;
								phone.value = arr[i].phone;
								email.value = arr[i].email;
								height.value = arr[i].height;
								bltype.value = arr[i].name;
								Marital.value = arr[i].name;
								birthplace.value = arr[i].name;
								registeredpla.value = arr[i].name;
								education.value = arr[i].name;
								degree.value = arr[i].name;
								University.value = arr[i].name;
								Major.value = arr[i].name;
								graduation.value = arr[i].name;
								probationstart.value = fmtDate(arr[i].probationstart);
								probationend.value = fmtDate(arr[i].probationend);
							}
						}
					}
				});
			});

			function check() {
				$.ajax({
					type: "post",
					url: "http://localhost:8099/" + "addEmp",
					data: {
						"name": fname.value,
						"gender": gender.value,
						"birth": birth.value,
						"cardnumber": cardnumber.value,
						"deptName": deptName.value,
						"postName": postName.value,
						"entryDay": entryDay.value,
						"attendDay": attendDay.value,
						"Emform": Emform.value,
						"sources": sources.value,
						"political": political.value,
						"nation": nation.value,
						"origin": origin.value,
						"phone": phone.value,
						"email": email.value,
						"height": height.value,
						"bltype": bltype.value,
						"Marital": Marital.value,
						"birthplace": birthplace.value,
						"registeredpla": registeredpla.value,
						"education": education.value,
						"degree": degree.value,
						"University": University.value,
						"Major": Major.value,
						"graduation": graduation.value,
						"probationstart": probationstart.value,
						"probationend": probationend.value
					},
					dataType: "json",
					"complete": function(XHR, TS) {
						if("success" != TS) {
							return alert("服务器么有正确响应");
						}
						var date = JSON.parse(XHR.responseText)
						if(date.code == -1) {
							alert(date.msg);
						} else {
							alert(date.msg);
						}
					}
				})
			}
		</script>

	</body>

</html>